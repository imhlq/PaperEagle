{{ $w := default "100" (.Get 0) }}
{{ $h := default "300" (.Get 1) }}
{{ $r := ( .Inner | chomp) }}
{{ $id := index (seq 999 | shuffle) 1 }}


<div style="margin: 0 auto">
    <canvas width="{{ $w }}" height="{{ $h }}" id="{{ $id }}"></canvas>
</div>

<script type="text/javascript">
    var ctx = document.getElementById('{{ $id }}').getContext('2d');
    var options = {{ $r | safeJS }};
    new Chart(ctx, options);
</script>

{{ .Page.Store.Set "hasChart" true }}